# yandex lyceum selection round task 

Решение для отборочного этапа в `Яндекс Лицей++`

---
## Задача 
Провести анализ [датасета](https://github.com/mwaskom/seaborn-data/blob/master/titanic.csv):
1. Найти решение для пропущенных значений в столбцах 
2. Ответить на вопросы: 
    * Кого больше среди пассажиров — мужчин или женщин?
    * Каков процент взрослых мужчин от всех пассажиров? 
    * Сколько людей в каждом классе?
3. Провести анализ с помощью метода [`describe()`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html)
4. Создать новую таблицу только с выжившими пассажирами и по ее данным ответить на вопросы: 
    * Как изменился процент взрослых мужчин?
    * Какие изменения произошли в других столбцах?
    
---

## Решение
### 1. Пропущенные значения 
Всего в таблице несколько столбцов с пропущенными значениями:

| название столбца | Количество пропущенных значений |
|------------------|:-------------------------------:|
| age              |                 177             |
| embarked         |                  2              | 
| embark_town      |                  2              | 
| deck             |                 688             | 

В столбцах `embarked` и `embark_town` (порт и город отправки) не хватает 2 значений, 
эти пропуски я заменил на `U` и `Unknown` 
(такие обозначения для соответствия общего стиля столбцов).

В столбце `deck` 688 пропусков (`77%`), заполнить их не получится, 
но и удалять строки из-за их большого количества тоже нельзя. В столбце представлено распределение по классам: 
```
>>> import pandas as pd

>>> df = pd.read_csv('titanic.csv')
>>> print(df['deck'].unique())
[nan 'C' 'E' 'G' 'D' 'A' 'B' 'F']
```

Я решил добавить класс `U (unknown)` и заменить им все `nan`.

Столбец `age` содержит 177 пропусков, для данного столбца 
я решил попробовать восстановить данные с помощью небольшой нейронной сети.
Для этого я выбрал столбцы, которые на мой взгляд 
больше всего влияют на возраст пассажира:

* социально-экономический статус
* пол 
* количество родственников на борту 
* количество родителей/детей
* оплата поездки
* класс пассажира
* остался ли пассажир живым
* одинокий ли пассажир 

После этого я написал нейронную сеть. 
Средняя ошибка предсказаний на тестовой выборке была около 10 лет. 
После аугментации данных эту ошибку удалось понизить до 7 лет.

### 2. Ответы на вопросы
#### Кого больше: мужчин или женщин 
На борту было 577 (`65%`) мужчин и 314 (`35%`) женщин, 
следовательно, **мужчин было больше**

#### Процент взрослых мужчин от всех пассажиров
Процент взрослых мужчин был равен `60.2694` (537 человек) 

#### Количество людей в каждом классе

| Первый класс | Второй класс | Третий класс |
|:------------:|:------------:|:------------:|
|     216      |     184      |     491      |

### 3. Анализ с помощью `describe()`